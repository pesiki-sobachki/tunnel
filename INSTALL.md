Конечно. Я взял предоставленный тобой текст, исправил все ошибки верстки, правильно оформил блоки кода и заголовки. Вот единый, отформатированный `INSTALL.md` документ.

---

# Руководство по установке и настройке

Это руководство содержит пошаговые инструкции по настройке обратного SSH-туннеля. Процесс разделен на две части: подготовка удаленного сервера и настройка вашей локальной машины.

## Предварительные требования

1.  Удаленный сервер (например, VPS) с публичным IP-адресом.
2.  `sudo` или root-доступ к удаленному серверу.
3.  Установленная утилита `autossh` на вашей **локальной машине**.
    *   **Debian/Ubuntu:** `sudo apt-get update && sudo apt-get install autossh`
    *   **macOS (Homebrew):** `brew install autossh`
    *   **Arch Linux:** `sudo pacman -S autossh`

---

## Часть 1: Настройка удаленного сервера

Эти шаги подготовят сервер к безопасному приему туннельного соединения.

### 1. Создайте выделенного пользователя

В целях безопасности мы создадим специального пользователя без доступа к командной оболочке, единственной задачей которого будет обслуживание туннеля.

```bash
sudo adduser --shell /bin/false --disabled-password tunneluser
```

### 2. Создайте файл `authorized_keys`

Теперь настроим необходимые SSH-файлы для этого пользователя. Мы должны делать это от имени `root`, так как у `tunneluser` нет своей командной оболочки.

```bash
# Перейдем в домашнюю директорию нового пользователя
cd /home/tunneluser

# Создадим директорию .ssh и файл authorized_keys
sudo mkdir .ssh
sudo touch .ssh/authorized_keys

# Установим корректные и безопасные права доступа
sudo chmod 700 .ssh
sudo chmod 600 .ssh/authorized_keys

# Назначим владельцем пользователя tunneluser
sudo chown -R tunneluser:tunneluser .ssh
```

### 3. (Опционально) Настройте SSH-сервер

По умолчанию SSH открывает обратные туннели на локальном адресе сервера (`127.0.0.1`), что делает их недоступными извне. Чтобы сделать порт туннеля общедоступным, нужно изменить одну настройку.

1.  Откройте конфигурационный файл SSH:
    ```bash
    sudo nano /etc/ssh/sshd_config
    ```

2.  Найдите строку `#GatewayPorts no` и измените ее на:
    ```
    GatewayPorts yes
    ```

3.  Перезапустите службу SSH для применения изменений:
    ```bash
    sudo systemctl restart sshd
    ```

---

## Часть 2: Настройка локальной машины

Эти шаги настроят вашу локальную машину для инициации соединения.

### 1. Сгенерируйте SSH-ключ

Если у вас его еще нет, сгенерируйте новую пару SSH-ключей.

```bash
# Нажмите Enter, чтобы принять значения по умолчанию, если не уверены
ssh-keygen -t rsa -b 4096
```

### 2. Скопируйте ваш публичный ключ на сервер

Эта команда добавит ваш публичный ключ в файл `authorized_keys`, который мы создали на сервере.

```bash
# Замените tunneluser@ip_вашего_сервера на ваши данные
ssh-copy-id tunneluser@ip_вашего_сервера
```
> **Примечание:** Команда запросит пароль от вашего основного sudo/root пользователя на сервере, а не от `tunneluser` (у которого пароль отключен).

### 3. ВАЖНО: Ограничьте права ключа на сервере

Прямо сейчас скопированный ключ дает полный доступ. Мы должны ограничить его, чтобы он разрешал **только** проброс портов и ничего более.

1.  Подключитесь к вашему удаленному серверу по SSH под основной учетной записью.
2.  Откройте файл `authorized_keys`:
    ```bash
    sudo nano /home/tunneluser/.ssh/authorized_keys
    ```
3.  Файл будет содержать строку, похожую на эту: `ssh-rsa AAAAB3NzaC1yc2EAAA... ваша-почта@хост`
4.  Добавьте следующие ограничения в самое начало этой строки. В примере мы разрешаем ключу открывать только порт `8080`.

    ```
    restrict,permitopen="localhost:8080" ssh-rsa AAAAB3NzaC1yc2EAAA... ваша-почта@хост
    ```
    *   **`restrict`**: Отключает все функции SSH, такие как доступ к командной оболочке, проброс X11 и т.д.
    *   **`permitopen="localhost:8080"`**: **Единственное** выдаваемое разрешение. Оно позволяет клиенту пробрасывать трафик на `localhost:8080` *с точки зрения сервера*.

---

## Часть 3: Настройка и запуск туннеля

1.  Скачайте или скопируйте скрипт `start_tunnel.sh` из этого репозитория на вашу локальную машину.
2.  Откройте `start_tunnel.sh` в текстовом редакторе и укажите ваши значения для переменных в верхней части файла (`REMOTE_HOST`, `REMOTE_USER`, `REMOTE_PORT`, `LOCAL_PORT`).
3.  Сделайте скрипт исполняемым:
    ```bash
    chmod +x start_tunnel.sh
    ```
4.  Запустите его!
    ```bash
    ./start_tunnel.sh
    ```
> Скрипт запустится в фоновом режиме. Чтобы его остановить, найдите ID его процесса (`pgrep autossh`) и выполните команду `kill <PID>`.

---

## Часть 4: Проверка

1.  **На вашей локальной машине** убедитесь, что процесс запущен:
    ```bash
    ps aux | grep autossh
    ```
    Вы должны увидеть команду `autossh` с портами, которые вы указали.

2.  **На вашем удаленном сервере** проверьте, что порт слушается процессом `sshd`:
    ```bash
    # Замените 8080 на ваш REMOTE_PORT
    ss -lntp | grep ':8080'
    ```
    Вы должны увидеть строку, показывающую, что процесс `sshd` слушает этот порт.

Готово! Любой трафик, отправленный на `http://ip_вашего_сервера:8080`, теперь будет безопасно перенаправлен на ваше приложение, работающее на `localhost:3000`.